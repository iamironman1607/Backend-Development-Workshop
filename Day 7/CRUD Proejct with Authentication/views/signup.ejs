<%- include('partials/header'); -%>

<form>
  <h2>Sign up</h2>
  <label for="name">Name</label>
  <input type="text" name="name"  />

  <label for="email">Email</label>
  <input type="text" name="email"  />
  <div class="email error" id="emailError"></div>

  <label for="password">Password</label>
  <input type="password" name="password"  />
  
  <div class="password error" id="pwdError"></div>

  <!-- <input type="submit" value="signup"> -->
  <button>Sign up</button>
</form>
<script>

const form = document.querySelector('form');

form.addEventListener('submit', async(e)=>{

  e.preventDefault();
  const email = form.email.value;
  const name = form.name.value;
  const password = form.password.value;

  try{

    const response = await fetch('/signup', {

      method:'POST',
      body : JSON.stringify({name, email, password}),
      headers:{'Content-Type':'application/json'}
    });

    const data = response.json();

    console.log(data);

  }catch(err){

    console.log("Client side error", err.message);


  }

})



</script>
<%- include('partials/footer'); -%>
